{"version":3,"file":"opus.js","sourceRoot":"","sources":["../../../../src/codec/opus.ts"],"names":[],"mappings":";;;AAAA,6CAAmE;AAInE,MAAa,cAAc;IAA3B;QACE;;;;;WAAiB;IAuBnB,CAAC;IArBC,MAAM,CAAC,WAAW,CAAC,GAAW;QAC5B,MAAM,IAAI,GAAG,IAAI,cAAc,EAAE,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACnB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,CAAC,+BAA+B,CAAC,MAAiB;QACtD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,CAAC,kBAAkB,CAAC,iBAAiB,GAAG,KAAK;QACjD,OAAO,MAAM,CAAC,MAAM,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YACvB,IAAA,kBAAY,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAA,oBAAc,EAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SAC7D,CAAC,CAAC;IACL,CAAC;CACF;AAxBD,wCAwBC","sourcesContent":["import { bufferWriter, bufferWriterLE } from \"../../../common/src\";\nimport type { RtpHeader } from \"../rtp/rtp\";\nimport type { DePacketizerBase } from \"./base\";\n\nexport class OpusRtpPayload implements DePacketizerBase {\n  payload!: Buffer;\n\n  static deSerialize(buf: Buffer) {\n    const opus = new OpusRtpPayload();\n    opus.payload = buf;\n    return opus;\n  }\n\n  static isDetectedFinalPacketInSequence(header: RtpHeader) {\n    return true;\n  }\n\n  get isKeyframe() {\n    return true;\n  }\n\n  static createCodecPrivate(samplingFrequency = 48000) {\n    return Buffer.concat([\n      Buffer.from(\"OpusHead\"),\n      bufferWriter([1, 1], [1, 2]),\n      bufferWriterLE([2, 4, 2, 1], [312, samplingFrequency, 0, 0]),\n    ]);\n  }\n}\n"]}